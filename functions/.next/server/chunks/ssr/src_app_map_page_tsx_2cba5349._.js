module.exports=[57925,a=>{"use strict";a.s(["default",()=>v],57925);var b=a.i(87924),c=a.i(72131),d=a.i(31865);a.i(69387);var e=a.i(60574),f=a.i(8876),g=a.i(91119),h=a.i(86304),i=a.i(99570),j=a.i(24987),k=a.i(70106);let l=(0,k.default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]),m=(0,k.default)("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]),n=(0,k.default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);var o=a.i(43826),p=a.i(71987),q=a.i(38246);function r(){return(0,b.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,b.jsx)("div",{className:"container max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"flex h-16 items-center justify-between",children:[(0,b.jsxs)(q.default,{href:"/",className:"flex items-center space-x-2",children:[(0,b.jsx)(p.default,{src:"/logo.png",alt:"أكنان القمة العقارية",width:40,height:40,className:"rounded-lg"}),(0,b.jsx)("span",{className:"text-xl font-bold",children:"أكنان القمة العقارية"})]}),(0,b.jsxs)("nav",{className:"flex items-center space-x-6",children:[(0,b.jsx)(q.default,{href:"/properties",className:"text-sm font-medium hover:text-primary",children:"العقارات"}),(0,b.jsx)(q.default,{href:"/map",className:"text-sm font-medium hover:text-primary",children:"الخريطة العقارية"}),(0,b.jsx)(q.default,{href:"/about",className:"text-sm font-medium hover:text-primary",children:"من نحن"}),(0,b.jsx)(q.default,{href:"/contact",className:"text-sm font-medium hover:text-primary",children:"اتصل بنا"}),(0,b.jsx)(i.Button,{asChild:!0,children:(0,b.jsx)(q.default,{href:"/admin",children:"لوحة التحكم"})})]})]})})})}function s(){return(0,b.jsx)("footer",{className:"border-t bg-muted/50",children:(0,b.jsxs)("div",{className:"container max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:"أكنان القمة العقارية"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"نقدم أفضل العقارات في المملكة العربية السعودية مع ضمان الجودة والخدمة المتميزة."})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold",children:"روابط سريعة"}),(0,b.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,b.jsx)("li",{children:(0,b.jsx)(q.default,{href:"/properties",className:"hover:text-primary",children:"العقارات"})}),(0,b.jsx)("li",{children:(0,b.jsx)(q.default,{href:"/about",className:"hover:text-primary",children:"من نحن"})}),(0,b.jsx)("li",{children:(0,b.jsx)(q.default,{href:"/contact",className:"hover:text-primary",children:"اتصل بنا"})})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold",children:"خدماتنا"}),(0,b.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,b.jsx)("li",{children:"بيع العقارات"}),(0,b.jsx)("li",{children:"إيجار العقارات"}),(0,b.jsx)("li",{children:"تقييم العقارات"}),(0,b.jsx)("li",{children:"الاستشارات العقارية"})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold",children:"معلومات الاتصال"}),(0,b.jsxs)("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[(0,b.jsx)("li",{children:"الرياض، المملكة العربية السعودية"}),(0,b.jsx)("li",{children:"الهاتف: +966 5X XXX XXXX"}),(0,b.jsx)("li",{children:"البريد الإلكتروني: info@aknan.sa"})]})]})]}),(0,b.jsx)("div",{className:"mt-8 pt-8 border-t text-center text-sm text-muted-foreground",children:(0,b.jsx)("p",{children:"© 2024 أكنان القمة العقارية. جميع الحقوق محفوظة."})})]})})}let t={width:"100%",height:"70vh"},u={lat:24.7136,lng:46.6753};function v(){let a,k,{isLoaded:p,loadError:q}=(0,d.useJsApiLoader)({id:"interactive-map-loader",googleMapsApiKey:"AIzaSyALKolr0_4M_Oypgk_8fb0ekpBwsYOCEXI",libraries:["drawing","geometry","places"]}),[v,w]=(0,c.useState)([]),[x,y]=(0,c.useState)(null),[z,A]=(0,c.useState)(!0),[B,C]=(0,c.useState)(null),[D,E]=(0,c.useState)(u),[F,G]=(0,c.useState)(10),H=(0,c.useCallback)(async()=>{try{let a=(0,e.query)((0,e.collection)(f.db,"properties"),(0,e.where)("status","==","available")),b=await (0,e.getDocs)(a),c=[];return b.forEach(a=>{let b=a.data();c.push({id:a.id,...b,createdAt:b.createdAt?.toDate()||new Date,updatedAt:b.updatedAt?.toDate()||new Date})}),c}catch(a){return console.error("Error fetching properties:",a),[]}},[]),I=(0,c.useCallback)(async()=>{try{let a=(0,e.query)((0,e.collection)(f.db,"plots")),b=await (0,e.getDocs)(a),c=[];return b.forEach(a=>{let b=a.data();if(b.polygon&&b.polygon.length>0){let d=b.polygon.reduce((a,b)=>a+b.lat,0)/b.polygon.length,e=b.polygon.reduce((a,b)=>a+b.lng,0)/b.polygon.length;c.push({id:a.id,projectId:b.projectId,number:b.number,status:b.status,price:b.price,currency:b.currency,polygon:b.polygon,center:{lat:d,lng:e},dimensions:b.dimensions,notes:b.notes,propertyId:b.propertyId,createdAt:b.createdAt?.toDate()||new Date,updatedAt:b.updatedAt?.toDate()||new Date})}}),c}catch(a){return console.error("Error fetching plots:",a),[]}},[]);(0,c.useEffect)(()=>{let a=async()=>{try{A(!0),C(null);let[a,b]=await Promise.all([H(),I()]),c=[];if(a.forEach(a=>{a.location?.lat&&a.location?.lng&&c.push({id:a.id,position:{lat:a.location.lat,lng:a.location.lng},type:"property",data:a,title:a.titleAr})}),b.forEach(a=>{a.center?.lat&&a.center?.lng&&c.push({id:a.id,position:{lat:a.center.lat,lng:a.center.lng},type:"plot",data:a,title:`القطعة ${a.number}`})}),w(c),c.length>0){let a=new google.maps.LatLngBounds;c.forEach(b=>{a.extend(b.position)})}}catch(a){console.error("Error loading map data:",a),C("فشل في تحميل بيانات الخريطة")}finally{A(!1)}};p&&a()},[p,H,I]);let J=(0,c.useCallback)(a=>{y(a)},[]),K=(0,c.useCallback)(a=>{y({id:a.id,position:a.center||{lat:0,lng:0},type:"plot",data:a,title:`القطعة ${a.number}`})},[]),L=(0,c.useCallback)(()=>{y(null)},[]);return q?(0,b.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,b.jsx)(r,{}),(0,b.jsx)("main",{className:"flex-1 flex items-center justify-center",children:(0,b.jsx)(o.default,{error:q})}),(0,b.jsx)(s,{})]}):!p||z?(0,b.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,b.jsx)(r,{}),(0,b.jsx)("main",{className:"flex-1 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center space-y-4",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"جاري تحميل الخريطة العقارية..."})]})}),(0,b.jsx)(s,{})]}):(0,b.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,b.jsx)(r,{}),(0,b.jsxs)("main",{className:"flex-1",children:[(0,b.jsx)("section",{className:"bg-primary text-primary-foreground py-12",children:(0,b.jsxs)("div",{className:"container max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,b.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"خريطتنا العقارية"}),(0,b.jsx)("p",{className:"text-xl text-primary-foreground/90 max-w-3xl mx-auto",children:"اكتشف جميع العقارات والمشاريع المتاحة لدينا على الخريطة التفاعلية"}),(0,b.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)("h3",{className:"font-semibold mb-2",children:"مفتاح الألوان"})}),(0,b.jsxs)("div",{className:"flex flex-wrap justify-center gap-4 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-4 h-4 bg-blue-500 rounded-full"}),(0,b.jsx)("span",{children:"العقارات"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),(0,b.jsx)("span",{children:"قطع متاحة"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-4 h-4 bg-red-500 rounded-full"}),(0,b.jsx)("span",{children:"قطع مباعة"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-4 h-4 bg-yellow-500 rounded-full"}),(0,b.jsx)("span",{children:"قطع محجوزة"})]})]})]})]})}),(0,b.jsx)("section",{className:"py-8",children:(0,b.jsx)("div",{className:"container max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"text-center",children:"خريطة العقارات والمشاريع"}),(0,b.jsx)("p",{className:"text-center text-muted-foreground",children:"اضغط على أي علامة لعرض التفاصيل"})]}),(0,b.jsx)(g.CardContent,{className:"p-0",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)(d.GoogleMap,{mapContainerStyle:t,center:D,zoom:F,options:{disableDefaultUI:!1,zoomControl:!0,streetViewControl:!1,mapTypeControl:!0,fullscreenControl:!0},children:[v.filter(a=>"property"===a.type).map(a=>(0,b.jsx)(d.Marker,{position:a.position,title:a.title,icon:{path:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z",fillColor:{available:"#10B981",sold:"#EF4444",rented:"#F59E0B","off-market":"#6B7280"}[a.data.status]||"#10B981",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:2,scale:1.5},onClick:()=>J(a)},a.id)),v.filter(a=>"plot"===a.type).map(a=>{let c=a.data,e=(a=>{let b={available:{fillColor:"#22c55e",strokeColor:"#16a34a",fillOpacity:.3,strokeWeight:2},sold:{fillColor:"#ef4444",strokeColor:"#dc2626",fillOpacity:.3,strokeWeight:2},reserved:{fillColor:"#eab308",strokeColor:"#ca8a04",fillOpacity:.3,strokeWeight:2}};return b[a]||b.available})(c.status);return(0,b.jsx)(d.Polygon,{paths:c.polygon,options:{...e,clickable:!0},onClick:()=>K(c)},a.id)}),x&&(0,b.jsx)(d.InfoWindow,{position:x.position,onCloseClick:L,children:"property"===x.type?(a=x.data,(0,b.jsx)("div",{className:"p-4 max-w-sm",children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsx)("h3",{className:"font-bold text-lg text-right",children:a.titleAr}),(0,b.jsx)(h.Badge,{variant:a.featured?"default":"secondary",children:a.featured?"مميز":a.status})]}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(j.MapPin,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:a.city})]}),a.areaM2&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(m,{className:"h-4 w-4"}),(0,b.jsxs)("span",{children:[a.areaM2," م²"]})]}),a.bedrooms&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(l,{className:"h-4 w-4"}),(0,b.jsxs)("span",{children:[a.bedrooms," غرف"]})]})]}),(0,b.jsxs)("div",{className:"text-lg font-bold text-primary",children:[a.price.toLocaleString()," ",a.currency]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(i.Button,{size:"sm",asChild:!0,className:"flex-1",children:(0,b.jsx)("a",{href:`/properties/${a.slug}`,children:"عرض التفاصيل"})}),(0,b.jsx)(i.Button,{size:"sm",variant:"outline",asChild:!0,children:(0,b.jsx)("a",{href:`https://wa.me/9665XXXXXXX?text=أريد الاستفسار عن العقار: ${a.titleAr}`,target:"_blank",rel:"noopener noreferrer",children:(0,b.jsx)(n,{className:"h-4 w-4"})})})]})]})})):(k=x.data,(0,b.jsx)("div",{className:"p-4 max-w-sm",children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("h3",{className:"font-bold text-lg text-right",children:["القطعة ",k.number]}),(0,b.jsx)(h.Badge,{variant:"available"===k.status?"default":"secondary",children:k.status})]}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground space-y-1",children:[k.area&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(m,{className:"h-4 w-4"}),(0,b.jsxs)("span",{children:[k.area," م²"]})]}),k.price&&(0,b.jsxs)("div",{className:"text-lg font-bold text-primary",children:[k.price.toLocaleString()," ",k.currency]}),k.notes&&(0,b.jsx)("p",{className:"text-sm",children:k.notes})]}),(0,b.jsx)("div",{className:"flex gap-2",children:(0,b.jsx)(i.Button,{size:"sm",variant:"outline",asChild:!0,children:(0,b.jsx)("a",{href:`https://wa.me/9665XXXXXXX?text=أريد الاستفسار عن القطعة: ${k.number}`,target:"_blank",rel:"noopener noreferrer",children:(0,b.jsx)(n,{className:"h-4 w-4"})})})})]})}))})]}),(0,b.jsx)("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm rounded-lg p-4 shadow-lg",children:(0,b.jsxs)("div",{className:"text-sm space-y-2",children:[(0,b.jsx)("div",{className:"font-semibold text-center",children:"إحصائيات الخريطة"}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,b.jsxs)("span",{children:["العقارات: ",v.filter(a=>"property"===a.type).length]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,b.jsxs)("span",{children:["القطع المتاحة: ",v.filter(a=>"plot"===a.type&&"available"===a.data.status).length]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),(0,b.jsxs)("span",{children:["القطع المباعة: ",v.filter(a=>"plot"===a.type&&"sold"===a.data.status).length]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),(0,b.jsxs)("span",{children:["القطع المحجوزة: ",v.filter(a=>"plot"===a.type&&"reserved"===a.data.status).length]})]})]})]})})]})})]})})}),(0,b.jsx)("section",{className:"py-16 bg-muted/50",children:(0,b.jsxs)("div",{className:"container max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,b.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"لم تجد ما تبحث عنه؟"}),(0,b.jsx)("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:"تواصل معنا وسنساعدك في العثور على العقار المثالي"}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,b.jsx)(i.Button,{asChild:!0,size:"lg",className:"text-lg px-8 py-4",children:(0,b.jsx)("a",{href:"/properties",children:"تصفح جميع العقارات"})}),(0,b.jsx)(i.Button,{asChild:!0,variant:"outline",size:"lg",className:"text-lg px-8 py-4",children:(0,b.jsx)("a",{href:"/contact",children:"تواصل معنا"})})]})]})})]}),(0,b.jsx)(s,{})]})}}];

//# sourceMappingURL=src_app_map_page_tsx_2cba5349._.js.map